<div class="container">
    <a class="btn btn-secondary" routerLink="/movies" role="button">Retour liste</a>

    <h1>Nouveau film</h1>
    <form #form="ngForm" (ngSubmit)="addMovie(form)" class="mt-3" novalidate>
        <div class="mb-3">
            <label for="title" class="form-label">Titre</label>
            <input type="text" class="form-control border border-1 border-dark border-opacity-50" id="title" name="title" [(ngModel)]="movie.title" required/>
            <div *ngIf="form.submitted && !form.controls['title']?.valid" class="text-danger">
                Le titre est requis.
            </div>
        </div>

        <div class="mb-3">
            <label for="director" class="form-label">Réalisateur</label>
            <input type="text" class="form-control border border-1 border-dark border-opacity-50" id="director" name="director" [(ngModel)]="movie.director"
            required pattern="^[^ ]+ ([^ ]+)+"/>
            />
            <div *ngIf="form.submitted && !form.controls['director']?.valid" class="text-danger">
                Le nom du réalisateur doit contenir au moins deux mots.
            </div>
        </div>

        <div class="mb-3">
            <label for="date" class="form-label">Date de sortie</label>
            <input type="date" class="form-control border border-1 border-dark border-opacity-50" id="date" name="date" [(ngModel)]="movie.releaseDate" required/>
            <div *ngIf="form.submitted && !form.controls['date']?.valid" class="text-danger">
                La date de sortie est requise.
            </div>
        </div>

        <div class="mb-3">
            <label for="title" class="form-label">Synopsis</label>
            <input type="text" class="form-control border border-1 border-dark border-opacity-50" id="Synopsis" name="Synopsis" [(ngModel)]="movie.synopsis" required minlenght="30"/>
            <div *ngIf="form.submitted && !form.controls['synopsis']?.valid" class="text-danger">
                Le synopsis doit contenir au moins 30 caractères.
            </div>
        </div>

        <div><button class="btn btn-warning" (click)=addMovie(form)>Ajouter</button></div>

    </form>
</div>
